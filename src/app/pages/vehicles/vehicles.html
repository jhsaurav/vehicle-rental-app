<div class="container-fluid mt-4">

  <div class="row">

    <!-- ================= VEHICLE TABLE (LEFT) ================= -->
    <div class="col-lg-8 mb-3">
      <div class="card ui-card shadow-lg border-0">

        <div class="card-header bg-warning text-dark rounded-top-3">
          <h5 class="mb-0 fw-bold">
            <i class="fa fa-car"></i> Vehicle Records
          </h5>
        </div>

        <div class="card-body p-0">

          <div class="table-responsive">
            <table class="table table-hover align-middle stylish-table">

              <thead>
                <tr>
                  <th>CarId</th>
                  <th>Brand</th>
                  <th>Model</th>
                  <th>Year</th>
                  <th>Color</th>
                  <th>Rate/Day</th>
                  <th>Reg No</th>
                  <!-- <th>Image</th> -->
                  <th>Actions</th>
                </tr>
              </thead>

              <tbody>
                @for(item of carList; track $index){
                <tr class="row-hover">

                  <td>{{item.carId}}</td>
                  <td class="fw-semibold text-primary">{{item.brand}}</td>
                  <td>{{item.model}}</td>
                  <td>{{item.year}}</td>

                  <td>
                    <span class="badge bg-dark">{{item.color}}</span>
                  </td>

                  <td class="fw-bold text-success">â‚¹{{item.dailyRate}}</td>
                  <td>{{item.regNo}}</td>

                  <!-- <td>
                    <img src="{{item.carImage}}" class="vehicle-img">
                  </td> -->

                  <td>
                    <button class="btn btn-warning btn-sm me-2" (click)="onEdit(item)">
                      <i class="fa fa-pencil"></i>
                    </button>
                    <button class="btn btn-danger btn-sm" (click)="onDeleteCarById(item.id)">
                      <i class="fa fa-trash"></i>
                    </button>
                  </td>

                </tr>
                }
              </tbody>

            </table>
          </div>

        </div>
      </div>
    </div>

    <!-- ===== FORM (RIGHT) == -->
    <div class="col-lg-4 mb-3">
      <div class="card shadow-sm fixed-form">

        <div class="card-header bg-primary text-white rounded-top-3">
          <h5 class="mb-0 fw-bold">
            <i class="fa fa-plus"></i> Add / Edit Vehicle
          </h5>
        </div>

        <div class="card-body">

          <form>

            <div class="form-floating mb-3">
              <input type="text" class="form-control" id="brand" [(ngModel)]="newCarObj.brand" name="brand">
              <label for="brand">Brand</label>
            </div>

            <div class="form-floating mb-3">
              <input type="text" class="form-control" id="model" [(ngModel)]="newCarObj.model" name="model">
              <label for="model">Model</label>
            </div>

            <div class="form-floating mb-3">
              <input type="number" class="form-control" id="year" [(ngModel)]="newCarObj.year" name="year">
              <label for="year">Year</label>
            </div>

            <div class="form-floating mb-3">
              <input type="text" class="form-control" id="color" [(ngModel)]="newCarObj.color" name="color">
              <label for="color">Color</label>
            </div>

            <div class="form-floating mb-3">
              <input type="number" class="form-control" id="rate" [(ngModel)]="newCarObj.dailyRate" name="dailyRate">
              <label for="rate">Daily Rate</label>
            </div>

            <div class="form-floating mb-3">
              <input type="text" class="form-control" id="img" [(ngModel)]="newCarObj.carImage" name="carImage">
              <label for="img">Car Image URL</label>
            </div>

            <div class="form-floating mb-3">
              <input type="text" class="form-control" id="reg" [(ngModel)]="newCarObj.regNo" name="regNo">
              <label for="reg">Reg No</label>
            </div>

            @if(newCarObj.carId == 0) {
              <button class="btn btn-success w-100 mt-2" type="button" (click)="onSaveCar()">
                <i class="fa fa-save"></i> Save Vehicle
              </button>
            } @else {
              <button class="btn btn-warning w-100 mt-2" type="button" (click)="onUpdateCar()">
                <i class="fa fa-refresh"></i> Update Vehicle
              </button>
            }

            <button class="btn btn-secondary w-100 mt-3" type="button">
              <i class="fa fa-eraser"></i> Clear
            </button>

          </form>

        </div>

      </div>
    </div>

  </div>
</div>
